# api 文档
### 响应状态码
| 状态码 | 说明                     |
| ------ | ------------------------ |
| 200    | 请求成功                 |
| 400    | 参数校验失败             |
| 401    | 验证失败                 |
| 403    | token 验证失败, 没有权限 |
| 404    | 资源不存在               |
请求失败,响应数据为一个提示信息 `msg`.


### 注册
###### 请求地址
`POST /api/user/register`
###### 请求参数: application/json
| 字段     | 类型   | 说明                       |
| -------- | ------ | -------------------------- |
| name     | string | 用户名, 2~7位字符          |
| account  | string | 帐号, 6~11位纯数字         |
| password | string | 密码, 6~11位字母数字下划线 |

###### 成功返回: json
| 字段  | 类型   | 说明                   |
| ----- | ------ | ---------------------- |
| msg   | string | 提示信息               |
| id    | string | 后端生成的用户唯一标识 |
| token | string | 根据 id 生成的令牌     |


### 登录
###### 请求地址
`POST /api/user/login`
###### 请求参数: application/json
| 字段     | 类型   | 说明                       |
| -------- | ------ | -------------------------- |
| account  | string | 帐号, 6~11位纯数字         |
| password | string | 密码, 6~11位字母数字下划线 |

###### 成功返回: json
| 字段  | 类型   | 说明                   |
| ----- | ------ | ---------------------- |
| msg   | string | 提示信息               |
| id    | string | 后端生成的用户唯一标识 |
| token | string | 根据 id 生成的令牌     |


### 用户资料查询
###### 请求地址
`get /api/user/info/:id`

###### 成功返回: json
| 字段         | 类型   | 说明           |
| ------------ | ------ | -------------- |
| account      | string | 用户帐号       |
| name         | string | 用户昵称       |
| introduction | string | 用户个人简介   |
| avatar       | string | 用户头像       |
| sex          | string | 用户性别       |
| likes        | uint   | 用户视频获赞数 |
| following    | uint   | 用户关注数     |
| follower     | uint   | 用户粉丝数     |


### 用户头像上传
###### 请求地址
`post /api/avatar/upload`
###### 请求参数: multipart/form-data
| 字段   | 类型 | 说明             |
| ------ | ---- | ---------------- |
| id     | uint | 用户id           |
| avatar | file | 要上传的头像图片 |
###### 成功返回: json
| 字段   | 类型   | 说明     |
| ------ | ------ | -------- |
| avatar | string | 用户头像 |

### 用户资料修改
###### 请求地址
`post /api/user/mpdify/:id`
###### 请求参数: json
| 字段         | 类型   | 说明                       |
| ------------ | ------ | -------------------------- |
| name         | string | 用户要修改的昵称,可选      |
| introduction | string | 用户要修改的个性签名, 可选 |
| sex          | string | 用户要修改的性别, 可选     |
###### 成功返回: json
| 字段 | 类型   | 说明                       |
| ---- | ------ | -------------------------- |
| msg  | string | 根据修改结果返回的提示消息 |